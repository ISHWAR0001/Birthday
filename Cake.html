<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Panda Cake üéÇ</title>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:#050505;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:Poppins,Arial;
  overflow:hidden;
}

.scene{
  text-align:center;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* TEXT */
.neon-text{
  font-size:2.6rem;
  margin-bottom:24px;
  color:#f8f9ff;
  text-shadow:0 0 10px #00ffff,0 0 25px #00ffff;
}

/* CAKE */
.cake-box{
  position:relative;
  width:260px;
}

/* IMAGE */
.cake-img{
  width:100%;
  display:block;
  border-radius:8px;
}

/* CANDLES */
.candle{
  position:absolute;
  top:6%;
  width:8px;
  height:30px;
  background:#fff;
  border-radius:4px;
}
.candle:nth-child(2){ left:30%; }
.candle:nth-child(3){ left:50%; }
.candle:nth-child(4){ left:70%; }

.flame{
  position:absolute;
  top:-12px;
  left:-2px;
  width:12px;
  height:12px;
  background:orange;
  border-radius:50%;
}

/* BLACK CUT LINE */
.cut-line{
  position:absolute;
  top:0;
  left:50%;
  width:2px;
  height:100%;
  background:#000;
  transform:translateX(-50%);
  opacity:0;
}

/* BUTTON */
button{
  margin-top:30px;
  padding:14px 40px;
  border:none;
  border-radius:30px;
  background:#00ffff;
  box-shadow:0 0 30px #00ffff;
  font-size:18px;
  cursor:pointer;
}

/* CONFETTI */
.confetti{
  position:fixed;
  top:-10px;
  width:8px;
  height:14px;
  animation:fall linear forwards;
}

@keyframes fall{
  to{
    transform:translateY(110vh) rotate(1080deg);
    opacity:0;
  }
}

/* üéÅ GIFT BOX */
.gift-box{
  width:130px;
  height:130px;
  background:#ff3b3b;
  border-radius:12px;
  margin-top:30px;
  position:relative;
  box-shadow:0 0 25px rgba(255,0,0,.8);
  display:none;
}

.gift-lid{
  position:absolute;
  top:-28px;
  left:0;
  width:100%;
  height:38px;
  background:#ff6b6b;
  border-radius:12px 12px 0 0;
  transition:transform .6s ease;
}

.gift-box.open .gift-lid{
  transform:translateY(-45px) rotate(-10deg);
}

.gift-text{
  color:#fff;
  font-size:1.1rem;
  margin-top:50px;
  opacity:0;
  transition:opacity .5s ease;
}

.gift-box.open .gift-text{
  opacity:1;
}
</style>
</head>

<body>

<div class="scene">
  <div class="neon-text">Happy Birthday Panda üêº</div>

  <div class="cake-box" id="cakeBox">
    <img class="cake-img" src="./images/Kung-Fu-Panda-Cakes_2-600x600.jpg">

    <!-- Candles -->
    <div class="candle"><div class="flame"></div></div>
    <div class="candle"><div class="flame"></div></div>
    <div class="candle"><div class="flame"></div></div>

    <!-- Black Cut Line -->
    <div class="cut-line" id="cutLine"></div>
  </div>

  <button id="btn" onclick="handleClick()">Blow Candles üí®</button>

  <!-- üéÅ Gift Box -->
  <div class="gift-box" id="giftBox">
    <div class="gift-lid"></div>
    <div class="gift-text">üéâ Surprise Inside üéâ</div>
  </div>
</div>

<audio id="song" src="./Musics/Happy Birthday Instrumental.mp3"></audio>
<audio id="song2" src="./Musics/mixkit-small-crowd-clapping-3035.wav"></audio>

<script>
let stage = 0;

function handleClick(){
  if(stage === 0){
    // Blow stage
    document.querySelectorAll(".flame").forEach(f=>f.style.display="none");
    document.getElementById("song").play();
    document.getElementById("btn").innerText = "Cut Cake üî™";
    fireConfetti(120);
    stage = 1;
  }
  else if(stage === 1){
    // Show only black cut line
    document.getElementById("cutLine").style.opacity = 1;
    document.getElementById("song2").play();
    document.getElementById("btn").innerText = "Open Gift üéÅ";
    stage = 2;
  }
  else if(stage === 2){
    // üëâ OPEN GIFT PAGE
    window.location.href = "gift.html";
  }
}

/* CONFETTI */
function fireConfetti(count){
  for(let i=0;i<count;i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random()*100 + "vw";
    c.style.background = `hsl(${Math.random()*360},100%,50%)`;
    c.style.animationDuration = (2 + Math.random()*2) + "s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}
</script>


</body>
</html>
